<div id="sec1" class="blurb" ng-if="showcreate()">
	<div class="container">
		<div class="row panel panel-default">
			<div class="col-xs-12">
				<h1>Add thing:</h1>
				<div class="form-group">
					<div>
						<label>Choose type..</label>
					</div>
					<div class="btn-group">
				        <label class="btn btn-default" ng-model="newThing.type" btn-radio="'TODO'" uncheckable>ToDo</label>
				        <label class="btn btn-default" ng-model="newThing.type" btn-radio="'FILE'" uncheckable>File</label>
				        <label class="btn btn-default" ng-model="newThing.type" btn-radio="'TEXT'" uncheckable>Text</label>
				    </div> 
				</div>
			</div>
			<div class="panel-body" ng-show="newThing.type == 'TODO'">
				<div class="form-group">
					<label>Title</label>
					<input class="form-control" ng-model="newThing.name">
				</div>
				<div class="form-group">
					<label>Description</label>
					<text-angular ng-model="newThing.description" ta-toolbar="[['p'],['bold','italics', 'underline'],['ul','ol'],['html']]"></text-angular>
				</div>
				<div class="form-group">
					<p><label>Deadline</label></p>
					<div style="display:inline-block; margin:0px;">
				        <datepicker ng-model="newThing.deadline" starting-day="1" min-date="minDate" show-weeks="true" class="well well-sm"></datepicker>
				    </div>
				</div>
			</div>
			<div class="panel-body" ng-show="newThing.type == 'FILE'">
				<div class="form-group">
					<label>Description</label>
					<text-angular ng-model="newThing.description" ta-toolbar="[['p'],['bold','italics', 'underline'],['ul','ol'],['html']]"></text-angular>
				</div>
		
		        <div flow-init="setParmForUpload()" flow-files-submitted="$flow.upload()" flow-file-success="fileUploaded($file, $message)" flow-file-added="fileAdded($event, $file)">
		        	<div flow-drop flow-drag-enter="style={border:'4px solid green'}" flow-drag-leave="style={}" ng-style="style" class="alert alert-info">
		        		<p><span class="btn btn-primary" flow-btn><i class="fa fa-upload"></i> Upload File</span> OR drag and drop</p>
		        	</div>
		        </div>
			</div>
			<div ng-show="newThing.type == 'TEXT'">
				<div class="panel-body">
					<form-input type="text" label="Name" model="newThing.name"></form-input>
					
					<div class="form-group">
						<label>Description</label>
						<text-angular ng-model="newThing.text" ta-toolbar="[['p'],['bold','italics', 'underline'],['ul','ol'],['html']]"></text-angular>
					</div>
					<div class="form-group">
						<p ng-repeat="subthing in newThing.things">{{ subthing.name }}</p>
					</div>
					<div class="form-group">
						<button class="btn btn-info btn-sm" ng-click="prepAddingNewSubthingFile()">Add File</button>
						<button class="btn btn-info btn-sm" ng-click="addToDo = !addToDo">Add ToDo</button>
					</div>
				</div>
				
				<div class="panel-footer" ng-show="addSubFile">
					<h4>Add file:</h4>
					<div class="form-group">
						<label>Description</label>
						<text-angular ng-model="newSubthing.description" ta-toolbar="[['p'],['bold','italics', 'underline'],['ul','ol'],['html']]"></text-angular>
					</div>
			
			        <div flow-init="setParmForSubThingFileUpload()" flow-files-submitted="$flow.upload()" flow-file-success="subThingFileUploaded($file, $message)" flow-file-added="subThingFileAdded($event, $file)">
			        	<div flow-drop flow-drag-enter="style={border:'4px solid green'}" flow-drag-leave="style={}" ng-style="style" class="alert alert-info">
			        		<p><span class="btn btn-primary" flow-btn><i class="fa fa-upload"></i> Upload File</span> OR drag and drop</p>
			        	</div>
			        </div>
				</div>
				<div class="panel-footer" ng-show="addSubToDo">
					<h4>Add ToDo:</h4>
					<div class="form-group">
						<label>Title</label>
						<input class="form-control" ng-model="newSubthing.name">
					</div>
					<div class="form-group">
						<label>Description</label>
						<text-angular ng-model="newSubthing.description" ta-toolbar="[['p'],['bold','italics', 'underline'],['ul','ol'],['html']]"></text-angular>
					</div>
					<div class="form-group">
						<p><label>Deadline</label></p>
						<div style="display:inline-block; margin:0px;">
					        <datepicker ng-model="newSubthing.deadline" starting-day="1" min-date="minDate" show-weeks="true" class="well well-sm"></datepicker>
					    </div>
					</div>
				</div>
				
			</div>
			<div class="panel-body">
				<button class="btn btn-default btn-sm" ng-click="cancel()">Cancel</button>
				<button class="btn btn-default btn-sm" ng-show="newThing.type" ng-click="createThing(newThing)">Save</button>
			</div>
		</div>
	</div>
</div>
		
